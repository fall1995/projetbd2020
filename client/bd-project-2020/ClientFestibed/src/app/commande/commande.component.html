<div class="ui-g">
    <div class="ui-sm-12 ui-md-10 ui-md-offset-1 border border-info  panel panel-default">
        <div class="jumbotron jumbotron-fluid" id="jumbtronRemovePaddingLeft" style="margin-left:1em; padding-top: 10;">
            <div class="container">
                <div class="ui-g" style="margin-top:0em" >
                        <div class="ui-sm-12 ui-md-3">
                        
                                
                                <h4 class="first" style="margin-left:.5em">Vos commandes passées</h4>
                                <mat-divider ></mat-divider> <br>
                                <p-accordion>
                                    <p-accordionTab header="2019">
                                        <p-accordion>
                                            <p-accordionTab header="Mars">
                                                <button (click)="commandeChoisie(1)" type="button" class="btn">Commande 1</button>
                                            </p-accordionTab>
                                            <p-accordionTab header="Juin">
                                                <button (click)="commandeChoisie(2)" type="button" class="btn">Commande 2</button><mat-divider ></mat-divider> 
                                                <button (click)="commandeChoisie(3)" type="button" class="btn">Commande 3</button>
                                            </p-accordionTab>
                                            <p-accordionTab header="Octobre">
                                                <button (click)="commandeChoisie(4)" type="button" class="btn">Commande 4</button><mat-divider ></mat-divider> 
                                                <button (click)="commandeChoisie(5)" type="button" class="btn">Commande 5</button>
                                            </p-accordionTab>
                                        </p-accordion>
                                    </p-accordionTab>
                                    <p-accordionTab header="2018">
                                        <p-accordion>
                                            <p-accordionTab header="Janvier">
                                                <button (click)="commandeChoisie(6)" type="button" class="btn">Commande 6</button>
                                            </p-accordionTab>
                                            <p-accordionTab header="Mars">
                                                <button (click)="commandeChoisie(7)" type="button" class="btn">Commande 7</button><mat-divider ></mat-divider> 
                                                <button (click)="commandeChoisie(8)" type="button" class="btn">Commande 8</button><mat-divider ></mat-divider> 
                                                <button (click)="commandeChoisie(9)" type="button" class="btn">Commande 9</button>
                                            </p-accordionTab>
                                            <p-accordionTab header="Avril">
                                                <button (click)="commandeChoisie(10)" type="button" class="btn">Commande 10</button>
                                             </p-accordionTab>
                                        </p-accordion>
                                    </p-accordionTab>
                                    <p-accordionTab header="2016">
                                        <p-accordion>
                                            <p-accordionTab header="Février">
                                                <button (click)="commandeChoisie(11)" type="button" class="btn">Commande 11</button>
                                            </p-accordionTab>
                                        </p-accordion>
                                    </p-accordionTab>
                                    <p-accordionTab header="2015">
                                        <p-accordion>
                                            <p-accordionTab header="Janvier">
                                                <button (click)="commandeChoisie(12)" type="button" class="btn">Commande 12</button>
                                            </p-accordionTab>
                                            <p-accordionTab header="Juin">
                                                <button (click)="commandeChoisie(13)" type="button" class="btn">Commande 13</button>
                                            </p-accordionTab>
                                            <p-accordionTab header="Décembre">
                                                <button (click)="commandeChoisie(14)" type="button" class="btn">Commande 14</button>
                                            </p-accordionTab>
                                        </p-accordion>
                                    </p-accordionTab>
                                </p-accordion>



                        </div>

                        <mat-divider [vertical]="true"></mat-divider>
                        <div class="ui-sm-12 ui-md-8" style="margin-left:1.7em" id="convertToFacture">
                            <div class="ui-g" style="margin-top: 7em;" *ngIf="!commande">
                                <div class="ui-sm-12 ui-md-offset-4"><h4> Veuillez selectionner une commande</h4></div>
                            </div> 
                            <div class="ui-g" style="margin-top: 2em;" *ngIf="commande">

                                <div class="ui-sm-12 ui-md-12 border border-info  panel panel-default" *ngIf="commande"> 
                                    <div class="ui-g">
                                        <div class="ui-sm-3 ui-md-3">
                                            <h5>Commande du <u><b pTooltip="à {{commande.heure}}" tooltipPosition="right" >{{commande.date}}</b></u></h5>
                                        </div>
                                        <div class="ui-sm-2 ui-sm-offset-7 ui-md-offset-8" style="margin-top: 5;">
                                            <i id="closeCommandeIcon" class="material-icons" pTooltip="Fermer la commande" tooltipPosition="right" (click)="deselectCommande()">
                                                close
                                            </i>
                                        </div>
                                    </div>
                                    <div class="ui-g">
                                        <div class="ui-sm-9 ui-md-offset-6" style="margin-top: 5;">
                                            Adresse de livraison: <b>15 rue en bas</b>
                                        </div>
                                    </div>
                                    <div class="ui-g">
                                            <div class="ui-sm-9 ui-md-offset-8" >
                                                <b style="margin-left: 20;">38300, Grenoble</b>
                                            </div>
                                        </div>
                                    <div class="ui-g">
                                            <div class="ui-md-3">
                                                <button type="button" class="btn"><i class="pi pi-download"></i>Télécharger en PDF</button>
                                            </div>
                                            <div class="ui-md-3">
                                                <button type="button" class="btn"><i class="pi pi-replay"></i>Repasser la même commande</button>
                                            </div>
                                        </div>
                                    <div class="ui-g" *ngIf="commande.films&&commande.films.length>0">
                                        <div class="ui-sm-1 ui-md-offset-4">
                                            <h4>Films commandés</h4>
                                        </div>
                                    </div>
                                    <div class="ui-g" *ngIf="commande.films&&commande.films.length==0">
                                            <div class="ui-sm-1 ui-md-offset-4">
                                                <h4>Vous n'avez pas commandé de films</h4>
                                            </div>
                                        </div>
                                    <div class="ui-g" *ngIf="commande.films&&commande.films.length>0"> 
                                        <div class="ui-sm-6 ui-md-10 ui-md-offset-1">

                                                    <table mat-table [dataSource]="commande.films" class="mat-elevation-z8">
                                                        <!-- Item Column -->
                                                        <ng-container matColumnDef="titre">
                                                            <th mat-header-cell *matHeaderCellDef> Titre </th>
                                                            <td mat-cell *matCellDef="let comm"> {{comm.titre}} </td>
                                                            <td mat-footer-cell *matFooterCellDef> Sous-Total films</td>
                                                        </ng-container>
                                                          
                                                        <!-- Cost Column -->
                                                        <ng-container matColumnDef="prix">
                                                            <th mat-header-cell *matHeaderCellDef> Prix </th>
                                                            <td mat-cell *matCellDef="let comm"> {{comm.prix}}€ </td>
                                                            <td mat-footer-cell *matFooterCellDef> {{getTotalCostFilms()}}€ </td>
                                                        </ng-container>
                                                          
                                                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                                                        <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
                                                    </table>


                                        </div>
                                    </div>
                                    <div class="ui-g" *ngIf="commande.plats&&commande.plats.length>0">
                                        <div class="ui-sm-1 ui-md-offset-4">
                                            <h4>Plats commandés</h4>
                                        </div>
                                    </div>
                                    <div class="ui-g" *ngIf="commande.plats&&commande.plats.length==0">
                                            <div class="ui-sm-1 ui-md-offset-4">
                                                <h4>Vous n'avez pas commandé de plats</h4>
                                            </div>
                                        </div>

                                    <div class="ui-g" *ngIf="commande.plats&&commande.plats.length>0">
                                            <div class="ui-sm-6 ui-md-10 ui-md-offset-1">
    
                                                        <table mat-table [dataSource]="commande.plats" class="mat-elevation-z8">
                                                            <!-- Item Column -->
                                                            <ng-container matColumnDef="type">
                                                                <th mat-header-cell *matHeaderCellDef> Type </th>
                                                                <td mat-cell *matCellDef="let comm"> {{comm.type}} </td>
                                                                <td mat-footer-cell *matFooterCellDef></td>
                                                            </ng-container>

                                                            <ng-container matColumnDef="titre">
                                                                    <th mat-header-cell *matHeaderCellDef> Nom </th>
                                                                    <td mat-cell *matCellDef="let comm"> {{comm.titre}} </td>
                                                                    <td mat-footer-cell *matFooterCellDef>Sous-Total plats </td>
                                                                </ng-container>
                                                              
                                                            <!-- Cost Column -->
                                                            <ng-container matColumnDef="prix">
                                                                <th mat-header-cell *matHeaderCellDef> Prix </th>
                                                                <td mat-cell *matCellDef="let comm"> {{comm.prix}}€ </td>
                                                                <td mat-footer-cell *matFooterCellDef> {{getTotalCostPlats()}}€ </td>
                                                            </ng-container>
                                                              
                                                            <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                                                            <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
                                                            <tr mat-footer-row *matFooterRowDef="displayedColumns2"></tr>
                                                        </table>
    
    
                                            </div>
                                        </div>
                                        <br>

                                    <mat-divider></mat-divider>
                                    <div class="ui-g">
                                        <div class="ui-md-3 ui-md-offset-2">
                                            <h4><b>Total commande:</b></h4>
                                        </div>
                                        <div class="ui-md-offset-3">
                                            <h4><b>{{getTotal()}}€ </b></h4>
                                        </div>
                                    </div>




                                </div>
                            </div>


                        </div>



                </div>

            </div>
        </div>
    </div>
</div>